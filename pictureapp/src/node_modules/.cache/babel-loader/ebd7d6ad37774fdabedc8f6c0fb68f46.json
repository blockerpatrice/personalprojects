{"ast":null,"code":"var _jsxFileName = \"/home/patty/dev/assignments/projects/pictureapp/src/unsplashcomponents/Img.js\";\nimport React, { Component } from 'react';\nimport { withProvider } from '../GlobalProvider.js';\n\nclass Img extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.props.saveImg(this.props.url);\n    };\n\n    this.handleDownload = event => {\n      event.preventDefault();\n      fetch('http://localhost:8080/api/files').then(response => {\n        const filename = response.headers.get('Content-Disposition').split('filename=')[1];\n        response.blob().then(blob => {\n          let url = window.URL.createObjectURL(blob);\n          let a = document.createElement('a');\n          a.href = url;\n          a.download = filename;\n          a.click();\n        });\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"li\", {\n      className: \"img-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.url,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.handleDownload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"download-btn\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Download\")), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"save-btn\",\n      value: \"\\u2661 Save\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withProvider(Img);","map":{"version":3,"sources":["/home/patty/dev/assignments/projects/pictureapp/src/unsplashcomponents/Img.js"],"names":["React","Component","withProvider","Img","handleSubmit","event","preventDefault","props","saveImg","url","handleDownload","fetch","then","response","filename","headers","get","split","blob","window","URL","createObjectURL","a","document","createElement","href","download","click","render"],"mappings":";AACA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,YAAR,QAA2B,sBAA3B;;AAEA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;AAAA;AAAA;;AAAA,SAG1BG,YAH0B,GAGXC,KAAK,IAAG;AACrBA,MAAAA,KAAK,CAACC,cAAN;AACA,WAAKC,KAAL,CAAWC,OAAX,CAAmB,KAAKD,KAAL,CAAWE,GAA9B;AACD,KANyB;;AAAA,SAQ1BC,cAR0B,GAQTL,KAAK,IAAG;AACvBA,MAAAA,KAAK,CAACC,cAAN;AACIK,MAAAA,KAAK,CAAC,iCAAD,CAAL,CACCC,IADD,CACMC,QAAQ,IAAI;AAChB,cAAMC,QAAQ,GAAID,QAAQ,CAACE,OAAT,CAAiBC,GAAjB,CAAqB,qBAArB,EAA4CC,KAA5C,CAAkD,WAAlD,EAA+D,CAA/D,CAAlB;AACAJ,QAAAA,QAAQ,CAACK,IAAT,GAAgBN,IAAhB,CAAqBM,IAAI,IAAI;AAC3B,cAAIT,GAAG,GAAGU,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BH,IAA3B,CAAV;AACA,cAAII,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAR;AACAF,UAAAA,CAAC,CAACG,IAAF,GAAShB,GAAT;AACAa,UAAAA,CAAC,CAACI,QAAF,GAAaZ,QAAb;AACAQ,UAAAA,CAAC,CAACK,KAAF;AACH,SANC;AAOL,OAVG;AAWL,KArByB;AAAA;;AAuB1BC,EAAAA,MAAM,GAAE;AACN,WACA;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAE,KAAKrB,KAAL,CAAWE,GAArB;AAA0B,MAAA,GAAG,EAAC,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOI;AAAM,MAAA,QAAQ,EAAE,KAAKC,cAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAPJ,EAWI;AAAM,MAAA,QAAQ,EAAE,KAAKN,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,SAAS,EAAC,UAA/B;AAA0C,MAAA,KAAK,EAAC,aAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAXJ,CADA;AAkBD;;AA1CyB;;AA8C5B,eAAeF,YAAY,CAACC,GAAD,CAA3B","sourcesContent":["\nimport React, {Component} from 'react';\nimport {withProvider} from '../GlobalProvider.js';\n\nclass Img extends Component { \n\n\n  handleSubmit = event =>{\n    event.preventDefault();\n    this.props.saveImg(this.props.url);\n  }\n\n  handleDownload = event =>{\n    event.preventDefault();\n        fetch('http://localhost:8080/api/files')\n        .then(response => {\n          const filename =  response.headers.get('Content-Disposition').split('filename=')[1];\n          response.blob().then(blob => {\n            let url = window.URL.createObjectURL(blob);\n            let a = document.createElement('a');\n            a.href = url;\n            a.download = filename;\n            a.click();\n        });\n    });\n  }\n\n  render(){\n    return (\n    <li className=\"img-wrap\">\n      <img src={this.props.url} alt=\"\"/>\n\n        {/* <form method=\"get\" action={this.props.url} target=\"_blank\" >\n          <button className=\"download-btn\" type=\"submit\">Download</button>\n        </form> */}\n\n        <form onSubmit={this.handleDownload} >\n          <button className=\"download-btn\" type=\"submit\">Download</button>\n        </form>\n\n        <form onSubmit={this.handleSubmit}>\n          <input type=\"submit\" className=\"save-btn\" value=\"â™¡ Save\"/>\n        </form>\n\n    </li>\n  );\n  }\n}\n\n\nexport default withProvider(Img);"]},"metadata":{},"sourceType":"module"}