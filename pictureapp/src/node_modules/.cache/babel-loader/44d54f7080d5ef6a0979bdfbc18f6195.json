{"ast":null,"code":"import React from 'react';\nimport Unsplash from 'unsplash-js';\nimport propTypes from 'prop-types';\nimport Spinner from 'react-svg-spinner';\nimport 'intersection-observer';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nfunction toJson(response) {\n  return response.json();\n}\n\nfunction debounce(wait, func) {\n  var timeout = null;\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(undefined, args);\n    }, wait);\n  };\n}\n\nfunction throttle(wait, func) {\n  var timeout = null;\n  var latestArgs = null;\n  return function () {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    latestArgs = args;\n    if (timeout) return; // do nothing, we're waiting for the timeout to fire\n\n    func.apply(undefined, toConsumableArray(latestArgs));\n    timeout = setTimeout(function () {\n      clearTimeout(timeout);\n      timeout = null;\n      func.apply(undefined, toConsumableArray(latestArgs));\n    }, wait);\n  };\n}\n\nfunction withDefaultProps(Component, defaultProps) {\n  var WrappedComponent = function WrappedComponent(props) {\n    return React.createElement(Component, _extends({}, defaultProps, props));\n  };\n\n  WrappedComponent.displayName = \"withDefaultProps(\" + Component.name + \")\";\n  return WrappedComponent;\n}\n\nvar ChaosMonkey = function () {\n  function ChaosMonkey(shouldDoAnything) {\n    var _this = this;\n\n    classCallCheck(this, ChaosMonkey);\n\n    if (shouldDoAnything) {\n      this.process = function (r) {\n        return Math.random() > 0.5 ? _this.failResponse(r) : r;\n      };\n    } else {\n      this.process = function (r) {\n        return r;\n      };\n    }\n  }\n\n  createClass(ChaosMonkey, [{\n    key: \"failResponse\",\n    value: function failResponse(_response) {\n      var errors = [[400, \"bad request\"], [503, \"gateway timeout\"], [500, \"server error\"], [401, \"not authorized\"]];\n      var error = errors[Math.round(Math.random() * (errors.length - 1))];\n      return new Response(JSON.stringify({}), {\n        status: error[0],\n        statusText: error[1]\n      });\n    }\n  }]);\n  return ChaosMonkey;\n}();\n\nvar UnsplashWrapper = function () {\n  function UnsplashWrapper(_ref) {\n    var _this2 = this;\n\n    var accessKey = _ref.accessKey,\n        _ref$__debug_chaosMon = _ref.__debug_chaosMonkey,\n        __debug_chaosMonkey = _ref$__debug_chaosMon === undefined ? false : _ref$__debug_chaosMon;\n\n    classCallCheck(this, UnsplashWrapper);\n\n    this.listPhotos = function (page, perPage) {\n      var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"popular\";\n      return _this2.unsplash.photos.listPhotos(page, perPage, type).then(_this2.processResponse);\n    };\n\n    this.searchPhotos = function (search, page, perPage) {\n      return _this2.unsplash.search.photos(search, page, perPage).then(_this2.processResponse);\n    };\n\n    this.getPhoto = function (id) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          width = _ref2.width,\n          height = _ref2.height;\n\n      return _this2.unsplash.photos.getPhoto(id, width, height).then(_this2.processResponse);\n    };\n\n    this.downloadPhoto = function (photo) {\n      return _this2.unsplash.photos.downloadPhoto(photo).then(_this2.processResponse);\n    };\n\n    this.processResponse = function (incomingResponse) {\n      var response = Promise.resolve(_this2.__debug_chaosMonkey.process(incomingResponse));\n      return response.then(_this2.handleErrors).then(toJson);\n    };\n\n    this.__debug_chaosMonkey = new ChaosMonkey(__debug_chaosMonkey);\n    this.unsplash = new Unsplash({\n      applicationId: accessKey\n    });\n  }\n\n  createClass(UnsplashWrapper, [{\n    key: \"handleErrors\",\n    value: function handleErrors(response) {\n      if (!response.ok) {\n        var error = Error(response.statusText);\n        error.status = response.status;\n        throw error;\n      }\n\n      return response;\n    }\n  }]);\n  return UnsplashWrapper;\n}();\n\nvar number = propTypes.number,\n    object = propTypes.object,\n    string = propTypes.string,\n    oneOfType = propTypes.oneOfType;\nSearchIcon.propTypes = {\n  width: oneOfType([number, string]),\n  height: oneOfType([number, string]),\n  style: object\n};\n\nfunction SearchIcon(_ref) {\n  var _ref$width = _ref.width,\n      width = _ref$width === undefined ? 32 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === undefined ? 32 : _ref$height,\n      _ref$style = _ref.style,\n      style = _ref$style === undefined ? {} : _ref$style;\n  return React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    style: style,\n    viewBox: \"0 0 16.7 16.7\"\n  }, React.createElement(\"path\", {\n    style: {\n      fill: \"currentColor\"\n    },\n    d: \"M16.7,15.3l-4.2-4.2c2-2.7,1.8-6.6-0.7-9.1c-1.4-1.4-3.1-2-4.9-2C5.2,0,3.4,0.7,2,2c-2.7,2.7-2.7,7.1,0,9.8 c1.4,1.4,3.1,2,4.9,2c1.5,0,2.9-0.5,4.1-1.4l4.2,4.2L16.7,15.3z M3.4,10.4c-1.9-1.9-1.9-5.1,0-7C4.4,2.5,5.6,2,6.9,2 c1.3,0,2.6,0.5,3.5,1.4c1.9,1.9,1.9,5.1,0,7c-0.9,0.9-2.2,1.4-3.5,1.4S4.4,11.4,3.4,10.4z\"\n  }));\n}\n\nvar number$1 = propTypes.number,\n    object$1 = propTypes.object,\n    string$1 = propTypes.string,\n    oneOfType$1 = propTypes.oneOfType;\nErrorImage.propTypes = {\n  width: oneOfType$1([number$1, string$1]),\n  height: oneOfType$1([number$1, string$1]),\n  style: object$1\n};\n\nfunction ErrorImage(_ref) {\n  var _ref$width = _ref.width,\n      width = _ref$width === undefined ? 143 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === undefined ? 109 : _ref$height;\n  return React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 105.597 80.577\"\n  }, React.createElement(\"g\", {\n    style: {\n      opacity: 0.6000000000000001\n    }\n  }, React.createElement(\"path\", {\n    d: \"M102.54,44.008A54.868,54.868,0,0,1,81.015,71.727c-9.272,5.971-19.156,7.447-30.5,4.956-11.219-2.521-22.3-7.648-31.46-12.508C9.971,59.07,2.81,54.393,1.033,47.046-.711,39.9,3.108,30,12.293,20.254,21.374,10.667,35.821,1.771,53,.307,70.062-1.411,85.737,4.279,94.726,12.58,103.947,20.923,106.493,32.285,102.54,44.008Z\",\n    style: {\n      fill: \"#e1f0f9\"\n    }\n  })), React.createElement(\"g\", {\n    style: {\n      opacity: 0.2\n    }\n  }, React.createElement(\"path\", {\n    d: \"M66.594,79.257c-8.7,1.638-17.1.125-25.777-4.367C30.632,69.553,21.251,61.734,13.664,54.67,6.206,47.388.5,41.018.683,33.461c.118-5.34,3.446-11.323,9.623-16.895\",\n    style: {\n      fill: \"none\",\n      stroke: \"#bac7d3\",\n      strokeMiterlimit: 10,\n      strokeWidth: 1.35656762123108 + \"px\"\n    }\n  }), React.createElement(\"path\", {\n    d: \"M99.52,56.783A55.145,55.145,0,0,1,76.763,75.974\",\n    style: {\n      fill: \"none\",\n      stroke: \"#bac7d3\",\n      strokeMiterlimit: 10,\n      strokeWidth: 1.35656762123108 + \"px\"\n    }\n  }), React.createElement(\"path\", {\n    d: \"M23.837,7.561a64.4,64.4,0,0,1,39.137-5.8C79.9,4.51,93.565,14.061,100.1,24.4a27.717,27.717,0,0,1,3.922,22.51\",\n    style: {\n      fill: \"none\",\n      stroke: \"#bac7d3\",\n      strokeMiterlimit: 10,\n      strokeWidth: 1.35656762123108 + \"px\"\n    }\n  })), React.createElement(\"rect\", {\n    x: \"35.441\",\n    y: \"21.706\",\n    width: \"4.473\",\n    height: \"6.377\",\n    rx: \"0.873\",\n    ry: \"0.873\",\n    style: {\n      fill: \"#ef5043\"\n    }\n  }), React.createElement(\"rect\", {\n    x: \"45.478\",\n    y: \"19.136\",\n    width: \"18.25\",\n    height: \"8.946\",\n    rx: \"3\",\n    ry: \"3\",\n    style: {\n      fill: \"#444\"\n    }\n  }), React.createElement(\"rect\", {\n    x: \"31.772\",\n    y: \"23.609\",\n    width: \"45.663\",\n    height: \"31.5\",\n    rx: \"3\",\n    ry: \"3\",\n    style: {\n      fill: \"#565656\"\n    }\n  }), React.createElement(\"circle\", {\n    cx: \"54.603\",\n    cy: \"39.359\",\n    r: \"10.909\",\n    style: {\n      fill: \"#707070\"\n    }\n  }), React.createElement(\"circle\", {\n    cx: \"54.603\",\n    cy: \"39.359\",\n    r: \"6.901\",\n    style: {\n      fill: \"#dbdbdb\"\n    }\n  }), React.createElement(\"circle\", {\n    cx: \"56.241\",\n    cy: \"37.57\",\n    r: \"2.827\",\n    style: {\n      fill: \"#fff\"\n    }\n  }), React.createElement(\"rect\", {\n    x: \"66.848\",\n    y: \"29.043\",\n    width: \"7\",\n    height: \"3.5\",\n    rx: \"1.75\",\n    ry: \"1.75\",\n    style: {\n      fill: \"#ffc338\"\n    }\n  }), React.createElement(\"circle\", {\n    cx: \"75.925\",\n    cy: \"52.566\",\n    r: \"5.858\",\n    style: {\n      fill: \"#fff\",\n      stroke: \"#ef5043\",\n      strokeMiterlimit: 10,\n      strokeWidth: 2.7034974098205566 + \"px\"\n    }\n  }), React.createElement(\"line\", {\n    x1: \"71.783\",\n    y1: \"56.708\",\n    x2: \"80.067\",\n    y2: \"48.424\",\n    style: {\n      fill: \"none\",\n      stroke: \"#ef5043\",\n      strokeMiterlimit: 10,\n      strokeWidth: 2.7034974098205566 + \"px\"\n    }\n  }));\n}\n\nvar number$2 = propTypes.number,\n    object$2 = propTypes.object,\n    string$2 = propTypes.string,\n    oneOfType$2 = propTypes.oneOfType;\nArrowIcon.propTypes = {\n  width: oneOfType$2([number$2, string$2]),\n  height: oneOfType$2([number$2, string$2]),\n  style: object$2\n};\n\nfunction ArrowIcon(_ref) {\n  var _ref$width = _ref.width,\n      width = _ref$width === undefined ? 32 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === undefined ? 32 : _ref$height,\n      _ref$style = _ref.style,\n      style = _ref$style === undefined ? {} : _ref$style;\n  return React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    style: style,\n    viewBox: \"0 0 14 14\"\n  }, React.createElement(\"g\", null, React.createElement(\"polygon\", {\n    style: {\n      fill: \"currentColor\"\n    },\n    points: \"4,10.9 8.8,6 8.8,8.5 10.3,8.5 10.3,3.5 5.3,3.5 5.3,5 7.8,5 2.9,9.8\"\n  }), React.createElement(\"path\", {\n    style: {\n      fill: \"currentColor\"\n    },\n    d: \"M13,0H1C0.4,0,0,0.4,0,1v12c0,0.6,0.4,1,1,1h12c0.6,0,1-0.4,1-1V1C14,0.4,13.6,0,13,0z M12.5,12.5h-11v-11h11V12.5z\"\n  })));\n}\n\nvar string$3 = propTypes.string,\n    object$3 = propTypes.object;\nvar blank = \"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\";\n\nvar SpinnerImg = function (_React$Component) {\n  inherits(SpinnerImg, _React$Component);\n\n  function SpinnerImg() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, SpinnerImg);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = SpinnerImg.__proto__ || Object.getPrototypeOf(SpinnerImg)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      loaded: false\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(SpinnerImg, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.img = new Image();\n\n      this.img.onload = function () {\n        _this2.setState({\n          loaded: true\n        });\n      };\n\n      this.img.src = this.props.src;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.img.onload = function () {\n        return undefined;\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loaded = this.state.loaded;\n      var _props = this.props,\n          src = _props.src,\n          style = _props.style,\n          rest = objectWithoutProperties(_props, [\"src\", \"style\"]);\n      return React.createElement(\"div\", {\n        className: \"p-r\"\n      }, React.createElement(\"img\", _extends({}, rest, {\n        src: this.state.loaded ? src : blank,\n        style: _extends({}, style, {\n          transition: \"opacity .3s, \" + style.transition,\n          opacity: loaded ? 1 : 0\n        })\n      })), loaded || React.createElement(\"div\", {\n        className: \"p-a\",\n        style: {\n          width: \"40px\",\n          height: \"40px\",\n          top: \"50%\",\n          left: \"50%\",\n          margin: \"-20px 0 0 -20px\"\n        }\n      }, React.createElement(Spinner, {\n        size: \"40px\",\n        color: \"rgba(0,0,0,0.5)\"\n      })));\n    }\n  }]);\n  return SpinnerImg;\n}(React.Component);\n\nSpinnerImg.propTypes = {\n  src: string$3.isRequired,\n  style: object$3\n};\nSpinnerImg.defaultProps = {\n  style: {}\n};\nvar instanceOf = propTypes.instanceOf,\n    func = propTypes.func,\n    node = propTypes.node;\n\nvar ReactIntersectionObserver = function (_React$Component) {\n  inherits(ReactIntersectionObserver, _React$Component);\n\n  function ReactIntersectionObserver() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, ReactIntersectionObserver);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = ReactIntersectionObserver.__proto__ || Object.getPrototypeOf(ReactIntersectionObserver)).call.apply(_ref, [this].concat(args))), _this), _this.handleObserverFired = function (observations) {\n      var lastObservation = observations[observations.length - 1];\n\n      _this.props.onIntersectionChange(lastObservation.isIntersecting);\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(ReactIntersectionObserver, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.observer = new IntersectionObserver(this.handleObserverFired, {\n        root: this.props.root,\n        rootMargin: \"0px\",\n        threshold: [0, 0.25]\n      });\n      this.observer.observe(this.element);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.observer.unobserve(this.element);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          _root = _props.root,\n          _onIntersectionChange = _props.onIntersectionChange,\n          children = _props.children,\n          rest = objectWithoutProperties(_props, [\"root\", \"onIntersectionChange\", \"children\"]);\n      return React.createElement(\"div\", _extends({\n        ref: function ref(element) {\n          return _this2.element = element;\n        }\n      }, rest), children);\n    }\n  }]);\n  return ReactIntersectionObserver;\n}(React.Component);\n\nReactIntersectionObserver.propTypes = {\n  root: instanceOf(HTMLElement),\n  onIntersectionChange: func.isRequired,\n  children: node.isRequired\n};\nvar shape = propTypes.shape,\n    string$4 = propTypes.string,\n    func$1 = propTypes.func;\n\nvar BlobUploader = function (_React$Component) {\n  inherits(BlobUploader, _React$Component);\n\n  function BlobUploader() {\n    classCallCheck(this, BlobUploader);\n    return possibleConstructorReturn(this, (BlobUploader.__proto__ || Object.getPrototypeOf(BlobUploader)).apply(this, arguments));\n  }\n\n  createClass(BlobUploader, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var prevPhoto = this.props.unsplashPhoto;\n      var nextPhoto = nextProps.unsplashPhoto;\n      if ((prevPhoto && prevPhoto.id) === (nextPhoto && nextPhoto.id)) return;\n      nextProps.downloadPhoto(nextPhoto).then(function (r) {\n        return r.blob();\n      }).then(this.props.onBlobLoaded).then(this.props.onFinishedUploading);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return BlobUploader;\n}(React.Component);\n\nBlobUploader.propTypes = {\n  unsplashPhoto: shape({\n    id: string$4.isRequired,\n    links: shape({\n      download: string$4.isRequired,\n      download_location: string$4.isRequired\n    }).isRequired\n  }),\n  downloadPhoto: func$1.isRequired,\n  onFinishedUploading: func$1.isRequired,\n  onBlobLoaded: func$1.isRequired\n};\nvar string$5 = propTypes.string,\n    func$2 = propTypes.func,\n    shape$1 = propTypes.shape;\n\nvar DataTransferUploader = function (_React$Component) {\n  inherits(DataTransferUploader, _React$Component);\n\n  function DataTransferUploader() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, DataTransferUploader);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = DataTransferUploader.__proto__ || Object.getPrototypeOf(DataTransferUploader)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      blob: null\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(DataTransferUploader, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var prevPhoto = this.props.unsplashPhoto;\n      var nextPhoto = nextProps.unsplashPhoto;\n      if ((prevPhoto && prevPhoto.id) === (nextPhoto && nextPhoto.id)) return;\n      nextProps.downloadPhoto(nextPhoto).then(function (r) {\n        return r.blob();\n      }).then(function (blob) {\n        return _this2.setState({\n          blob: blob\n        });\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.input && this.state.blob) {\n        var dt = new DataTransfer();\n        dt.items.add(new File([this.state.blob], \"image.jpg\"));\n        this.input.files = dt.files;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          unsplashPhoto = _props.unsplashPhoto,\n          _downloadPhoto = _props.downloadPhoto,\n          restProps = objectWithoutProperties(_props, [\"unsplashPhoto\", \"downloadPhoto\"]);\n      var blob = this.state.blob;\n      if (!(unsplashPhoto && blob)) return null;\n      return React.createElement(\"input\", _extends({\n        type: \"file\",\n        name: \"file\",\n        ref: function ref(input) {\n          return _this3.input = input;\n        }\n      }, restProps));\n    }\n  }]);\n  return DataTransferUploader;\n}(React.Component);\n\nDataTransferUploader.propTypes = {\n  unsplashPhoto: shape$1({\n    id: string$5.isRequired,\n    links: shape$1({\n      download: string$5.isRequired,\n      download_location: string$5.isRequired\n    }).isRequired\n  }),\n  downloadPhoto: func$2.isRequired\n};\nvar shape$2 = propTypes.shape,\n    string$6 = propTypes.string,\n    func$3 = propTypes.func;\n\nvar Base64Uploader = function (_React$Component) {\n  inherits(Base64Uploader, _React$Component);\n\n  function Base64Uploader() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, Base64Uploader);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = Base64Uploader.__proto__ || Object.getPrototypeOf(Base64Uploader)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      blob: null\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(Base64Uploader, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var prevPhoto = this.props.unsplashPhoto;\n      var nextPhoto = nextProps.unsplashPhoto;\n      if ((prevPhoto && prevPhoto.id) === (nextPhoto && nextPhoto.id)) return;\n      nextProps.downloadPhoto(nextPhoto).then(function (r) {\n        return r.blob();\n      }).then(function (blob) {\n        return _this2.setState({\n          blob: blob\n        });\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this3 = this;\n\n      if (this.input && this.state.blob) {\n        var reader = new FileReader();\n        reader.readAsDataURL(this.state.blob);\n\n        reader.onloadend = function () {\n          _this3.input.value = reader.result;\n\n          _this3.props.onFinishedUploading();\n        };\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _props = this.props,\n          unsplashPhoto = _props.unsplashPhoto,\n          _downloadPhoto = _props.downloadPhoto,\n          _onFinishedUploading = _props.onFinishedUploading,\n          restProps = objectWithoutProperties(_props, [\"unsplashPhoto\", \"downloadPhoto\", \"onFinishedUploading\"]);\n      var blob = this.state.blob;\n      if (!(unsplashPhoto && blob)) return null;\n      return React.createElement(\"input\", _extends({\n        type: \"hidden\",\n        name: \"file\",\n        ref: function ref(input) {\n          return _this4.input = input;\n        }\n      }, restProps));\n    }\n  }]);\n  return Base64Uploader;\n}(React.Component);\n\nBase64Uploader.propTypes = {\n  unsplashPhoto: shape$2({\n    id: string$6.isRequired,\n    links: shape$2({\n      download: string$6.isRequired,\n      download_location: string$6.isRequired\n    }).isRequired\n  }),\n  downloadPhoto: func$3.isRequired,\n  onFinishedUploading: func$3.isRequired\n};\nvar shape$3 = propTypes.shape,\n    string$7 = propTypes.string,\n    func$4 = propTypes.func;\n\nvar ExternalLocationUploader = function (_React$Component) {\n  inherits(ExternalLocationUploader, _React$Component);\n\n  function ExternalLocationUploader() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, ExternalLocationUploader);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = ExternalLocationUploader.__proto__ || Object.getPrototypeOf(ExternalLocationUploader)).call.apply(_ref, [this].concat(args))), _this), _this.handleBlobLoaded = function (blob) {\n      var formData = new FormData();\n      formData.append(_this.props.name, blob, \"image.jpg\");\n      return fetch(_this.props.uploadUrl, {\n        method: \"POST\",\n        body: formData,\n        credentials: \"include\"\n      }).then(function (r) {\n        var response = r.clone();\n        return r.text().then(function () {\n          return response;\n        });\n      });\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(ExternalLocationUploader, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(BlobUploader, _extends({}, this.props, {\n        onBlobLoaded: this.handleBlobLoaded\n      }));\n    }\n  }]);\n  return ExternalLocationUploader;\n}(React.Component);\n\nExternalLocationUploader.propTypes = {\n  unsplashPhoto: shape$3({\n    id: string$7.isRequired,\n    links: shape$3({\n      download: string$7.isRequired,\n      download_location: string$7.isRequired\n    }).isRequired\n  }),\n  downloadPhoto: func$4.isRequired,\n  onFinishedUploading: func$4.isRequired,\n  uploadUrl: string$7.isRequired,\n  name: string$7.isRequired\n};\nvar shape$4 = propTypes.shape,\n    string$8 = propTypes.string,\n    func$5 = propTypes.func;\n\nvar InsertIntoApplicationUploader = function (_React$Component) {\n  inherits(InsertIntoApplicationUploader, _React$Component);\n\n  function InsertIntoApplicationUploader() {\n    classCallCheck(this, InsertIntoApplicationUploader);\n    return possibleConstructorReturn(this, (InsertIntoApplicationUploader.__proto__ || Object.getPrototypeOf(InsertIntoApplicationUploader)).apply(this, arguments));\n  }\n\n  createClass(InsertIntoApplicationUploader, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var prevPhoto = this.props.unsplashPhoto;\n      var nextPhoto = nextProps.unsplashPhoto;\n      if ((prevPhoto && prevPhoto.id) === (nextPhoto && nextPhoto.id)) return;\n      nextProps.downloadPhoto(nextPhoto).then(function (r) {\n        return r.url;\n      }).then(this.props.onFinishedUploading);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return InsertIntoApplicationUploader;\n}(React.Component);\n\nInsertIntoApplicationUploader.propTypes = {\n  unsplashPhoto: shape$4({\n    id: string$8.isRequired,\n    links: shape$4({\n      download: string$8.isRequired,\n      download_location: string$8.isRequired\n    }).isRequired\n  }),\n  downloadPhoto: func$5.isRequired,\n  onFinishedUploading: func$5.isRequired\n};\nvar string$9 = propTypes.string,\n    func$6 = propTypes.func,\n    number$3 = propTypes.number,\n    bool = propTypes.bool,\n    object$4 = propTypes.object,\n    shape$5 = propTypes.shape;\n\nfunction noop() {}\n\nvar inputNoAppearanceStyle = {\n  border: \"none\",\n  padding: 0,\n  margin: 0,\n  backgroundColor: \"transparent\",\n  boxShadow: \"none\",\n  fontSize: \"1em\",\n  outline: \"none\"\n};\nvar inputGray = \"#AAA\";\nvar inputDarkGray = \"#555\";\nvar borderRadius = 3;\n\nvar UnsplashPicker = function (_React$Component) {\n  inherits(UnsplashPicker, _React$Component);\n\n  function UnsplashPicker(props) {\n    classCallCheck(this, UnsplashPicker);\n\n    var _this = possibleConstructorReturn(this, (UnsplashPicker.__proto__ || Object.getPrototypeOf(UnsplashPicker)).call(this, props));\n\n    _this.recalculateSearchResultsWidth = throttle(50, function () {\n      _this.setState({\n        searchResultsWidth: _this.searchResults.getBoundingClientRect().width\n      });\n    });\n\n    _this.loadDefault = function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$append = _ref.append,\n          append = _ref$append === undefined ? false : _ref$append;\n\n      var page = append ? _this.state.page : 1;\n\n      _this.state.unsplash.listPhotos(page, _this.resultsPerPage).then(function (photos) {\n        return _this.setState(function (prevState) {\n          return {\n            photos: append ? prevState.photos.concat(photos) : photos,\n            isLoadingSearch: false,\n            totalPhotosCount: null,\n            error: null,\n            page: page\n          };\n        }, append ? noop : _this.didFinishLoadingNewSearchResults);\n      }).catch(function (e) {\n        return _this.setState({\n          error: e.message,\n          isLoadingSearch: false\n        });\n      });\n    };\n\n    _this.utmLink = function (url) {\n      var applicationName = _this.props.applicationName;\n      var utmParams = \"utm_source=\" + applicationName + \"&utm_medium=referral\";\n      return url + \"?\" + utmParams;\n    };\n\n    _this.doImmediateSearch = function () {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          append = _ref2.append;\n\n      var _this$state = _this.state,\n          search = _this$state.search,\n          unsplash = _this$state.unsplash;\n\n      if (_this.shouldShowDefault) {\n        return _this.loadDefault({\n          append: append\n        });\n      }\n\n      var page = append ? _this.state.page : 1;\n      return unsplash.searchPhotos(search, _this.state.page, _this.resultsPerPage).then(function (response) {\n        return _this.setState(function (prevState) {\n          return {\n            totalPhotosCount: response.total,\n            photos: append ? prevState.photos.concat(response.results) : response.results,\n            isLoadingSearch: false,\n            error: null,\n            page: page\n          };\n        }, append ? noop : _this.didFinishLoadingNewSearchResults);\n      }).catch(function (e) {\n        return _this.setState({\n          error: e.message,\n          isLoadingSearch: false\n        });\n      });\n    };\n\n    _this.doDebouncedSearch = debounce(400, _this.doImmediateSearch);\n\n    _this.doSearch = function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$append = _ref3.append,\n          append = _ref3$append === undefined ? false : _ref3$append;\n\n      _this.setState({\n        isLoadingSearch: true\n      });\n\n      if (append) {\n        _this.doImmediateSearch({\n          append: append\n        });\n      } else {\n        _this.doDebouncedSearch();\n      }\n    };\n\n    _this.downloadPhoto = function (photo) {\n      _this.setState({\n        loadingPhoto: photo\n      });\n\n      var preferredSize = _this.props.preferredSize;\n\n      var download = _this.state.unsplash.downloadPhoto(photo);\n\n      var downloadPromise = preferredSize ? _this.state.unsplash.getPhoto(photo.id, preferredSize).then(function (r) {\n        return r.urls.custom;\n      }) : download.then(function (r) {\n        return r.url;\n      });\n      return downloadPromise.then(fetch).catch(function (e) {\n        return _this.setState({\n          error: e.message,\n          isLoadingSearch: false\n        });\n      });\n    };\n\n    _this.handleSearchChange = function (e) {\n      _this.setState({\n        search: e.target.value\n      });\n    };\n\n    _this.handleSearchWrapperClick = function () {\n      _this.searchInput && _this.searchInput.focus();\n    };\n\n    _this.handlePhotoClick = function (photo) {\n      _this.setState({\n        selectedPhoto: photo\n      });\n    };\n\n    _this.handleFinishedUploading = function (response) {\n      _this.setState({\n        loadingPhoto: null\n      });\n\n      _this.props.onFinishedUploading(response);\n    };\n\n    _this.handleSearchResultsBottomIntersectionChange = function (isAtBottomOfSearchResults) {\n      _this.setState({\n        isAtBottomOfSearchResults: isAtBottomOfSearchResults\n      });\n\n      if (isAtBottomOfSearchResults && !_this.state.isLoadingSearch && _this.hasMoreResults) {\n        _this.setState(function (_ref4) {\n          var page = _ref4.page;\n          return {\n            page: page + 1\n          };\n        });\n      }\n    };\n\n    _this.state = {\n      unsplash: null,\n      photos: [],\n      totalPhotosCount: null,\n      isLoadingSearch: true,\n      selectedPhoto: null,\n      loadingPhoto: null,\n      search: props.defaultSearch,\n      searchResultsWidth: null,\n      isAtBottomOfSearchResults: true,\n      page: 1,\n      error: null\n    };\n    return _this;\n  }\n\n  createClass(UnsplashPicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var unsplash = new UnsplashWrapper({\n        accessKey: this.props.accessKey,\n        __debug_chaosMonkey: this.props.__debug_chaosMonkey\n      });\n      this.setState({\n        unsplash: unsplash\n      });\n      this.doSearch();\n      this.recalculateSearchResultsWidth();\n      window.addEventListener(\"resize\", this.recalculateSearchResultsWidth);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_prevProps, prevState) {\n      var _state = this.state,\n          search = _state.search,\n          page = _state.page;\n\n      if (search !== prevState.search) {\n        this.doSearch();\n      }\n\n      if (search === prevState.search && page !== prevState.page) {\n        this.doSearch({\n          append: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"resize\", this.recalculateSearchResultsWidth);\n    }\n  }, {\n    key: \"didFinishLoadingNewSearchResults\",\n    value: function didFinishLoadingNewSearchResults() {\n      this.searchResults.scrollTop = 0;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          Uploader = _props.Uploader,\n          searchResultColumns = _props.columns,\n          photoRatio = _props.photoRatio,\n          highlightColor = _props.highlightColor;\n      var _state2 = this.state,\n          photos = _state2.photos,\n          search = _state2.search,\n          selectedPhoto = _state2.selectedPhoto,\n          loadingPhoto = _state2.loadingPhoto,\n          totalPhotosCount = _state2.totalPhotosCount,\n          isLoadingSearch = _state2.isLoadingSearch,\n          isAtBottomOfSearchResults = _state2.isAtBottomOfSearchResults,\n          searchResultsWidth = _state2.searchResultsWidth,\n          error = _state2.error;\n      var searchResultWidth = searchResultsWidth ? Math.floor(searchResultsWidth / searchResultColumns) : 100;\n      var searchResultHeight = searchResultWidth / photoRatio;\n      return React.createElement(ReactIntersectionObserver, {\n        onIntersectionChange: this.recalculateSearchResultsWidth,\n        style: {\n          flexDirection: \"column\"\n        },\n        className: \"unsplash-react d-f h-f p-0\"\n      }, React.createElement(CSSStyles, null), React.createElement(\"span\", {\n        style: {\n          color: inputGray,\n          fontSize: 12,\n          textAlign: \"center\",\n          display: \"block\",\n          marginBottom: \"1em\"\n        }\n      }, \"Photos provided by\", \" \", React.createElement(\"a\", {\n        href: this.utmLink(\"https://unsplash.com/\"),\n        target: \"_blank\",\n        style: {\n          color: inputGray\n        }\n      }, \"Unsplash\")), React.createElement(\"div\", {\n        className: \"d-f\",\n        style: {\n          padding: \".5em\",\n          border: \"1px solid #DFDFDF\",\n          cursor: \"text\",\n          borderRadius: \"3px\",\n          fontSize: 13\n        },\n        onClick: this.handleSearchWrapperClick\n      }, React.createElement(SearchInputIcon, {\n        isLoading: isLoadingSearch,\n        hasError: !!error,\n        style: {\n          marginRight: \".5em\"\n        }\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        value: search,\n        placeholder: \"Search Unsplash photos by topics or colors\",\n        onChange: this.handleSearchChange,\n        style: inputNoAppearanceStyle,\n        className: \"f-1\",\n        ref: function ref(input) {\n          return _this2.searchInput = input;\n        }\n      }), totalPhotosCount !== null && React.createElement(\"span\", {\n        style: {\n          color: inputDarkGray\n        }\n      }, totalPhotosCount, \" results\")), React.createElement(\"div\", {\n        className: \"p-r f-1 border-radius\",\n        style: {\n          marginTop: \".5em\",\n          overflow: \"hidden\"\n        }\n      }, React.createElement(\"div\", {\n        className: \"h-f\",\n        style: {\n          overflowY: \"scroll\"\n        },\n        ref: function ref(element) {\n          return _this2.searchResults = element;\n        }\n      }, error ? React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\",\n          marginTop: \"3em\",\n          padding: \"0 1em\",\n          fontSize: 13\n        }\n      }, React.createElement(ErrorImage, null), React.createElement(\"p\", null, \"We're having trouble communicating with Unsplash right now. Please try again.\"), React.createElement(\"p\", {\n        style: {\n          color: inputGray\n        }\n      }, error)) : [photos.map(function (photo, index) {\n        return React.createElement(Photo, {\n          key: photo.id,\n          photo: photo,\n          index: index,\n          width: searchResultWidth,\n          height: searchResultHeight,\n          columns: searchResultColumns,\n          loadingPhoto: loadingPhoto,\n          selectedPhoto: selectedPhoto,\n          onPhotoClick: _this2.handlePhotoClick,\n          highlightColor: highlightColor,\n          utmLink: _this2.utmLink\n        });\n      }), this.searchResults && React.createElement(ReactIntersectionObserver, {\n        key: \"intersectionObserver\",\n        root: this.searchResults,\n        onIntersectionChange: this.handleSearchResultsBottomIntersectionChange,\n        style: {\n          width: \"100%\",\n          textAlign: \"center\",\n          marginTop: this.hasMoreResults ? \"2em\" : \".5em\",\n          height: this.hasMoreResults ? 50 : 1\n        }\n      }, this.hasMoreResults && React.createElement(Spinner, {\n        size: \"40px\"\n      }))]), React.createElement(\"div\", {\n        className: \"p-a\",\n        style: {\n          bottom: -1,\n          left: 0,\n          right: 0,\n          height: 1,\n          boxShadow: isAtBottomOfSearchResults && !this.hasMoreResults || error ? \"0 0 0 0 transparent\" : \"0 0 10px 5px rgba(0, 0, 0, .2)\",\n          transition: \"box-shadow .3s\",\n          zIndex: 2\n        }\n      })), React.createElement(Uploader, {\n        unsplashPhoto: selectedPhoto,\n        downloadPhoto: this.downloadPhoto,\n        onFinishedUploading: this.handleFinishedUploading\n      }));\n    }\n  }, {\n    key: \"shouldShowDefault\",\n    get: function get$$1() {\n      return this.state.search === \"\";\n    }\n  }, {\n    key: \"resultsPerPage\",\n    get: function get$$1() {\n      return this.props.columns * 4;\n    }\n  }, {\n    key: \"totalResults\",\n    get: function get$$1() {\n      return this.shouldShowDefault ? Infinity : this.state.totalPhotosCount;\n    }\n  }, {\n    key: \"hasMoreResults\",\n    get: function get$$1() {\n      return this.totalResults > this.resultsPerPage * this.state.page;\n    }\n  }]);\n  return UnsplashPicker;\n}(React.Component);\n\nUnsplashPicker.propTypes = {\n  accessKey: string$9.isRequired,\n  applicationName: string$9.isRequired,\n  columns: number$3,\n  defaultSearch: string$9,\n  highlightColor: string$9,\n  onFinishedUploading: func$6,\n  photoRatio: number$3,\n  preferredSize: shape$5({\n    width: number$3.isRequired,\n    height: number$3.isRequired\n  }),\n  Uploader: func$6,\n  __debug_chaosMonkey: bool\n};\nUnsplashPicker.defaultProps = {\n  columns: 3,\n  defaultSearch: \"\",\n  highlightColor: \"#00adf0\",\n  onFinishedUploading: noop,\n  photoRatio: 1.5,\n  preferredSize: null,\n  Uploader: Base64Uploader,\n  __debug_chaosMonkey: false\n};\n\nfunction CSSStyles() {\n  return React.createElement(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: \"\\n        .unsplash-react, .unsplash-react * { box-sizing: border-box }\\n        .unsplash-react input::placeholder {\\n          color: \" + inputGray + \";\\n          opacity: 1;\\n        }\\n        @keyframes unsplash-react-fadein {\\n          from { opacity: 0; }\\n          to   { opacity: 1; }\\n        }\\n\\n        .unsplash-react .p-r { position: relative; }\\n        .unsplash-react .p-a { position: absolute; }\\n\\n        .unsplash-react.p-0,\\n        .unsplash-react .p-0 { padding: 0; }\\n\\n        .unsplash-react .f-1 { flex: 1; }\\n\\n        .unsplash-react.d-f,\\n        .unsplash-react .d-f { display: flex; }\\n\\n        .unsplash-react.h-f,\\n        .unsplash-react .h-f { height: 100%; }\\n\\n        .unsplash-react.border-radius,\\n        .unsplash-react .border-radius { border-radius: \" + borderRadius + \"px; }\\n      \"\n    }\n  });\n}\n\nSearchInputIcon.propTypes = {\n  isLoading: bool.isRequired,\n  hasError: bool.isRequired,\n  style: object$4\n};\n\nfunction SearchInputIcon(_ref5) {\n  var isLoading = _ref5.isLoading,\n      hasError = _ref5.hasError,\n      style = _ref5.style,\n      rest = objectWithoutProperties(_ref5, [\"isLoading\", \"hasError\", \"style\"]);\n  var searchColor = hasError ? \"#D62828\" : inputGray;\n\n  var mergedStyle = _extends({\n    top: \"0.15em\",\n    marginRight: \".5em\"\n  }, style);\n\n  return React.createElement(\"div\", _extends({\n    className: \"p-r\",\n    style: mergedStyle\n  }, rest), isLoading ? React.createElement(Spinner, {\n    size: \"1em\",\n    color: searchColor\n  }) : React.createElement(SearchIcon, {\n    width: \"1em\",\n    height: \"1em\",\n    style: {\n      color: searchColor\n    }\n  }));\n}\n\nAbsolutelyCentered.propTypes = {\n  width: number$3.isRequired,\n  height: number$3.isRequired\n};\n\nfunction AbsolutelyCentered(_ref6) {\n  var width = _ref6.width,\n      height = _ref6.height,\n      rest = objectWithoutProperties(_ref6, [\"width\", \"height\"]);\n  return React.createElement(\"div\", _extends({\n    className: \"p-a\",\n    style: {\n      width: width,\n      height: height,\n      top: \"50%\",\n      left: \"50%\",\n      margin: \"-\" + height / 2 + \"px 0 0 -\" + width / 2 + \"px\"\n    }\n  }, rest));\n}\n\nOverflowFadeLink.propTypes = {\n  href: string$9.isRequired,\n  style: object$4.isRequired,\n  wrapperClassName: string$9.isRequired\n};\n\nfunction OverflowFadeLink(_ref7) {\n  var wrapperClassName = _ref7.wrapperClassName,\n      _ref7$style = _ref7.style,\n      style = _ref7$style === undefined ? {} : _ref7$style,\n      rest = objectWithoutProperties(_ref7, [\"wrapperClassName\", \"style\"]);\n  return React.createElement(\"div\", {\n    className: \"p-r \" + wrapperClassName,\n    style: {\n      display: \"block\",\n      overflow: \"hidden\",\n      maxWidth: \"100%\"\n    }\n  }, React.createElement(\"a\", _extends({\n    style: _extends({}, style, {\n      display: \"block\",\n      whiteSpace: \"nowrap\",\n      maxWidth: \"100%\",\n      textDecoration: \"underline\",\n      fontSize: 13\n    })\n  }, rest)), React.createElement(\"div\", {\n    className: \"p-a\",\n    style: {\n      right: -2,\n      top: 0,\n      bottom: 0,\n      width: 1,\n      boxShadow: \"0 0 10px 10px white\",\n      zIndex: 1\n    }\n  }));\n}\n\nPhoto.propTypes = {\n  photo: shape$5({\n    id: string$9.isRequired,\n    urls: shape$5({\n      small: string$9.isRequired\n    }).isRequired,\n    user: shape$5({\n      links: shape$5({\n        html: string$9.isRequired\n      }).isRequired\n    }).isRequired\n  }).isRequired,\n  width: number$3.isRequired,\n  height: number$3.isRequired,\n  index: number$3.isRequired,\n  columns: number$3.isRequired,\n  loadingPhoto: shape$5({\n    id: string$9.isRequired\n  }),\n  selectedPhoto: shape$5({\n    id: string$9.isRequired\n  }),\n  onPhotoClick: func$6.isRequired,\n  highlightColor: string$9.isRequired,\n  utmLink: func$6.isRequired\n};\n\nfunction Photo(_ref8) {\n  var photo = _ref8.photo,\n      width = _ref8.width,\n      height = _ref8.height,\n      index = _ref8.index,\n      columns = _ref8.columns,\n      loadingPhoto = _ref8.loadingPhoto,\n      selectedPhoto = _ref8.selectedPhoto,\n      onPhotoClick = _ref8.onPhotoClick,\n      highlightColor = _ref8.highlightColor,\n      utmLink = _ref8.utmLink;\n  var isFarLeft = index % columns === 0;\n  var loadingPhotoId = loadingPhoto && loadingPhoto.id;\n  var selectedPhotoId = selectedPhoto && selectedPhoto.id;\n  var isSelectedAndLoaded = loadingPhotoId === null && selectedPhotoId === photo.id;\n  var borderWidth = 3;\n\n  var onClick = function onClick() {\n    return onPhotoClick(photo);\n  };\n\n  return React.createElement(\"div\", {\n    style: {\n      display: \"inline-block\",\n      width: width,\n      marginTop: 0,\n      marginBottom: 12,\n      marginLeft: 0,\n      marginRight: 0,\n      paddingTop: \".5em\",\n      paddingLeft: isFarLeft || \".5em\"\n    },\n    className: \"p-0\"\n  }, React.createElement(\"div\", {\n    className: \"p-r border-radius\",\n    style: {\n      overflow: \"hidden\",\n      transition: \"box-shadow .3s\",\n      cursor: \"pointer\",\n      width: \"100%\"\n    },\n    onClick: onClick\n  }, React.createElement(SpinnerImg, {\n    src: photo.urls.small,\n    style: {\n      display: \"block\",\n      width: \"100%\",\n      height: height,\n      objectFit: \"cover\",\n      borderWidth: borderWidth,\n      borderStyle: \"solid\",\n      borderColor: isSelectedAndLoaded ? highlightColor : \"transparent\",\n      borderRadius: borderRadius + borderWidth,\n      transition: \"border .3s\"\n    }\n  }), loadingPhotoId === photo.id && React.createElement(\"div\", {\n    className: \"p-a\",\n    style: {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: \"rgba(255,255,255,0.5)\",\n      animation: \"unsplash-react-fadein .1s\"\n    }\n  }, React.createElement(AbsolutelyCentered, {\n    height: 40,\n    width: 40\n  }, React.createElement(Spinner, {\n    size: \"40px\",\n    color: \"rgba(255,255,255,0.8)\"\n  })))), React.createElement(\"div\", {\n    className: \"d-f\",\n    style: {\n      padding: \".15em \" + borderWidth + \"px 0 \" + borderWidth + \"px\"\n    }\n  }, React.createElement(OverflowFadeLink, {\n    href: utmLink(photo.user.links.html),\n    target: \"_blank\",\n    style: {\n      color: inputGray\n    },\n    wrapperClassName: \"f-1\"\n  }, photo.user.name), React.createElement(\"a\", {\n    href: utmLink(photo.links.html),\n    target: \"_blank\",\n    style: {\n      color: inputGray,\n      textDecoration: \"none\",\n      lineHeight: \"10px\",\n      marginLeft: \"1em\",\n      padding: 2,\n      borderRadius: borderRadius - 1\n    }\n  }, React.createElement(ArrowIcon, {\n    width: 14,\n    height: 14\n  }))));\n}\n\nexport default UnsplashPicker;\nexport { Base64Uploader, ExternalLocationUploader, DataTransferUploader, BlobUploader, InsertIntoApplicationUploader, withDefaultProps };","map":null,"metadata":{},"sourceType":"module"}